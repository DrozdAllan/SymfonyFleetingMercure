{% extends "base.html.twig" %}

{% block body %}

	<div class="container">


		ça va frère le bosse
		<button id="checkout-button">Checkout</button>

	</div>


{% endblock %}


{% block javascripts %}
	<script src="https://js.stripe.com/v3/"></script>
	<script>
		const stripe = Stripe('{{ stripePublicKey }}');
const checkoutButton = document.getElementById('checkout-button');
const sessionId = '{{ id }}';
	</script>

	<script>
		checkoutButton.addEventListener('click', function () {
// Create a new Checkout Session using the server-side endpoint you
// created in step 3.
stripe.redirectToCheckout({sessionId: sessionId}).then(function (result) {
// If `redirectToCheckout` fails due to a browser or network
// error, you should display the localized error message to your
// customer using `error.message`.
if (result.error) {
alert(result.error.message);
}
}).catch(function (error) {
console.error('Error:', error);
});
});
	</script>


{% endblock %}
